:root{
  --bg:#ffffff;
  --text:#111827;
  --muted:#6b7280;
  --primary:#2563EB;
  --green:#22C55E;
  --yellow:#FACC15;
  --red:#EF4444;
  --card:#ffffff;
  --border:#e5e7eb;
  --shadow:0 8px 24px rgba(0,0,0,.06);
  --radius:14px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
  display:flex;
}

/* Sidebar */
.sidebar{
  width:280px;
  min-width:260px;
  background:#f8fafc;
  border-right:1px solid var(--border);
  display:flex;
  flex-direction:column;
  position:sticky;
  top:0;
  height:100vh;
}
.logo{
  display:flex; align-items:center; gap:.75rem;
  padding:1rem 1.25rem; position:relative;
}
.logo-mark{
  width:38px; height:38px; border-radius:14px;
  background:var(--primary);
  display:grid; place-items:center;
  box-shadow:var(--shadow);
}
.logo-mark svg{width:22px; height:22px; fill:#fff}
.logo span{font-weight:700}
.hamburger{margin-left:auto; background:none; border:0; display:none; cursor:pointer}
.hamburger span{display:block; width:20px; height:2px; background:#334155; margin:4px 0; border-radius:2px}

.nav{
  padding:.5rem;
  display:flex; flex-direction:column; gap:.25rem;
}
.nav-item{
  appearance:none; border:0; background:transparent; width:100%;
  display:flex; align-items:center; gap:.75rem; padding:.75rem 1rem;
  border-radius:10px; color:#0f172a; cursor:pointer;
}
.nav-item .icon{display:grid; place-items:center; width:24px; height:24px}
.nav-item svg{width:20px; height:20px; fill:#334155}
.nav-item:hover{background:#eef2ff}
.nav-item.active{background:#e0e7ff; color:var(--primary)}
.nav-item.active svg{fill:var(--primary)}

.badge-wrap{position:relative}
.badge{
  position:absolute; top:-6px; right:-6px;
  background:var(--red); color:#fff; font-size:.65rem; line-height:1;
  padding:.2rem .35rem; border-radius:999px; min-width:18px; text-align:center;
}

.sidebar-bottom{margin-top:auto; padding:1rem; display:grid; gap:.5rem}
.profile-btn{
  display:flex; gap:.75rem; align-items:center; background:#eef2ff; border:0; border-radius:12px; padding:.75rem 1rem; cursor:pointer;
}
.profile-btn .label{font-weight:600}
.profile-btn .sub{font-size:.85rem; color:var(--muted)}
.logout-btn{
  display:flex; gap:.5rem; align-items:center;
  background:#fee2e2; color:#7f1d1d; border:0; border-radius:12px; padding:.6rem .9rem; cursor:pointer;
}
.logout-btn svg{width:18px; height:18px; fill:#b91c1c}

/* Main + Topbar */
.main{flex:1; min-width:0; display:flex; flex-direction:column; height:100vh}
.topbar{
  position:sticky; top:0; z-index:5;
  background:var(--bg); border-bottom:1px solid var(--border);
  display:flex; justify-content:space-between; align-items:center;
  padding:1rem 1.25rem;
}
.welcome h1{font-size:1.2rem; margin:0}
.top-actions{display:flex; align-items:center; gap:.6rem}
.search{
  display:flex; align-items:center; gap:.5rem; background:#f1f5f9;
  border:1px solid var(--border); padding:.45rem .6rem; border-radius:999px; min-width:280px;
}
.search svg{width:18px; height:18px; fill:#64748b}
.search input{
  border:0; outline:0; background:transparent; width:100%;
  font:inherit;
}
.icon-btn{
  position:relative;
  background:#f1f5f9; border:1px solid var(--border); border-radius:12px;
  display:grid; place-items:center; padding:.5rem; width:40px; height:40px; cursor:pointer;
}
.icon-btn svg{width:20px; height:20px; fill:#334155}
.avatar{
  width:36px; height:36px; border-radius:10px; background:var(--primary); color:#fff; display:grid; place-items:center; font-weight:700;
}
.avatar.small{width:30px; height:30px; border-radius:8px}
.avatar.xl{width:64px; height:64px; border-radius:16px}

/* Pages */
.page{display:none; padding:1.25rem; overflow:auto}
.page--active{display:block}

/* Cards & layout */
.cards{
  display:grid; grid-template-columns:repeat(4, minmax(0,1fr)); gap:1rem;
}
.card{
  background:var(--card); border:1px solid var(--border); border-radius:var(--radius);
  box-shadow:var(--shadow); padding:1rem; display:flex; flex-direction:column; gap:.75rem;
}
.card-head{display:flex; align-items:center; justify-content:space-between}
.legend{display:flex; gap:1rem; color:var(--muted); font-size:.9rem}
.legend .dot{margin-right:.35rem}
.grid-2{display:grid; grid-template-columns:2fr 1fr; gap:1rem; margin-top:1rem}

/* Stat cards */
.stat-head{display:flex; align-items:center; justify-content:space-between}
.stat-title{font-weight:600; color:#334155}
.stat-icon svg{width:22px; height:22px; fill:#334155}
.stat-value{font-size:2rem; font-weight:800}
.stat-sub{color:var(--muted); font-size:.9rem}
.dot{width:10px; height:10px; border-radius:999px; display:inline-block}
.dot--green{background:var(--green)}
.dot--yellow{background:var(--yellow)}
.dot--red{background:var(--red)}
.progress{height:8px; background:#f1f5f9; border-radius:999px; overflow:hidden; border:1px solid var(--border)}
.progress > div{height:100%; width:0%; background:var(--primary); transition:width .4s ease}
.progress.green > div{background:var(--green)}
.progress.yellow > div{background:var(--yellow)}
.progress.red > div{background:var(--red)}

/* Parking grid */
.parking-grid{
  display:grid; grid-template-columns:repeat(8, minmax(0,1fr)); gap:.6rem; padding:.4rem;
}
.slot{
  border:1px dashed #cbd5e1; border-radius:12px; padding:.5rem; min-height:58px;
  display:flex; align-items:center; justify-content:center; text-align:center;
  position:relative; transition:transform .1s ease;
  background:#f8fafc; color:#0f172a; font-weight:600;
}
.slot:hover{transform:translateY(-2px)}
.slot[data-status="available"]{background:#ecfdf5; border-color:#a7f3d0; color:#065f46}
.slot[data-status="occupied"]{background:#fef2f2; border-color:#fecaca; color:#7f1d1d}
.slot[data-status="reserved"]{background:#fffbeb; border-color:#fde68a; color:#92400e}
.slot .label{
  font-size:.8rem; line-height:1.2;
}
.slot .meta{
  position:absolute; bottom:6px; right:8px; font-size:.7rem; color:#475569; font-weight:600;
}

/* Activity */
.activity{display:flex; flex-direction:column; gap:.6rem; max-height:420px; overflow:auto}
.activity-item{
  display:grid; grid-template-columns:28px 1fr auto; gap:.6rem; align-items:center;
  padding:.5rem; border-radius:10px; border:1px solid var(--border); background:#f8fafc;
}
.activity-item .icon{display:grid; place-items:center}
.activity-item .icon svg{width:18px; height:18px; fill:#334155}
.activity-item .when{color:var(--muted); font-size:.85rem}

/* Payments */
.bar{display:flex; align-items:center; justify-content:space-between; margin-bottom:.75rem}
.actions{display:flex; gap:.5rem}
.btn{
  appearance:none; border:1px solid var(--border); background:#f8fafc; padding:.6rem .9rem; border-radius:12px; cursor:pointer; font-weight:600;
}
.btn.primary{background:var(--primary); color:#fff; border-color:transparent}
.payments{display:grid; gap:1rem}
.semester{border:1px solid var(--border); border-radius:12px; overflow:hidden}
.semester > summary{
  list-style:none; padding:.9rem 1rem; background:#f1f5f9; cursor:pointer; font-weight:700; display:flex; justify-content:space-between; align-items:center;
}
.semester > summary::-webkit-details-marker{display:none}
.table{width:100%; border-collapse:collapse}
.table th,.table td{padding:.75rem 1rem; text-align:left; border-bottom:1px solid var(--border)}
.table th{color:#475569; background:#f8fafc}
.badge-inline{
  display:inline-block; padding:.2rem .5rem; border-radius:999px; font-size:.8rem; font-weight:700; color:#0f172a;
}
.badge--green{background:#dcfce7; color:#166534}
.badge--yellow{background:#fef9c3; color:#854d0e}
.badge--red{background:#fee2e2; color:#7f1d1d}

/* Notifications */
.notifications{display:flex; flex-direction:column; gap:.6rem}
.notice{
  display:grid; grid-template-columns:28px 1fr auto; gap:.75rem; align-items:center;
  padding:.75rem; border:1px solid var(--border); border-radius:12px; background:#ffffff;
}
.notice.unread{border-color:#c7d2fe; box-shadow:0 0 0 3px #e0e7ff inset}
.notice .icon svg{width:18px; height:18px; fill:#334155}
.notice .title{font-weight:700}
.notice .time{color:var(--muted); font-size:.85rem}

/* Profile */
.profile{display:flex; align-items:center; gap:1rem}

/* Responsive */
@media (max-width: 1100px){
  .cards{grid-template-columns:repeat(2, minmax(0,1fr))}
  .grid-2{grid-template-columns:1fr}
}
@media (max-width: 860px){
  .sidebar{position:fixed; left:0; top:0; height:100vh; transform:translateX(-100%); transition:transform .25s ease; z-index:20}
  .sidebar.open{transform:translateX(0)}
  .logo .hamburger{display:block}
  .main{margin-left:0}
  .search{min-width:200px}
}

.avatar {
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #ddd;
}

.avatar.xl {
  width: 100px;
  height: 100px;
}

.avatar.small {
  width: 40px;
  height: 40px;
}

#change-avatar-btn {
  padding: 6px 12px;
  border: none;
  background: #007bff;
  color: white;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
}

#change-avatar-btn:hover {
  background: #0056b3;
}

/* Profile Button */
.profile-btn {
  border: none;
  background: none;
  cursor: pointer;
  padding: 2px;
  border-radius: 50%;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Small Avatar inside button */
.profile-btn .avatar.small {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #007bff; /* blue accent */
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  transition: border-color 0.2s ease;
}

/* Hover Effect */
.profile-btn:hover {
  transform: scale(1.05);
}

.profile-btn:hover .avatar.small {
  border-color: #0056b3;
}

/* Extra Mobile Responsiveness */
@media (max-width: 600px) {
  .cards {
    grid-template-columns: 1fr; /* stats cards stacked */
  }

  .parking-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr)); /* 2 slots per row */
  }

  .search {
    min-width: 140px;
    flex: 1;
  }

  .topbar {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.75rem;
  }

  .top-actions {
    width: 100%;
    justify-content: space-between;
  }
}

@media (max-width: 400px) {
  .parking-grid {
    grid-template-columns: repeat(1, minmax(0, 1fr)); /* single column */
  }
}

@media (max-width: 860px){
  .sidebar {
    position: fixed;
    left: 0;
    top: 0;
    height: 100vh;
    transform: translateX(-100%); /* hide */
    transition: transform .25s ease;
    z-index: 20;
  }
  .sidebar.open {
    transform: translateX(0); /* show */
  }
  .logo .hamburger {
    display: block;
  }
  .main {
    margin-left: 0;
  }
}

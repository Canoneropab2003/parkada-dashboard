<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>UB Smart Parking</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <aside class="sidebar" id="sidebar">
    <div class="logo">
      <div class="logo-mark">
        <!-- Car icon (inline SVG) -->
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M5 11l1-3a3 3 0 012.83-2h6.34A3 3 0 0118 8l1 3h1a1 1 0 010 2h-1v3a1 1 0 11-2 0v-3H7v3a1 1 0 11-2 0v-3H4a1 1 0 110-2h1zm3.83-5A1 1 0 007 6.76L6.33 9h11.34L17 6.76A1 1 0 0016.17 6H8.83zM7 13h10a2 2 0 100-4H7a2 2 0 100 4z"/>
        </svg>
      </div>
      <span>UB Smart Parking</span>
      <button class="hamburger" id="sidebarToggle" aria-label="Toggle sidebar">
        <span></span><span></span><span></span>
      </button>
    </div>

    <nav class="nav">
      <button class="nav-item active" data-route="dashboard">
        <span class="icon">
          <svg viewBox="0 0 24 24"><path d="M3 3h8v8H3V3zm10 0h8v5h-8V3zM3 13h5v8H3v-8zm7 4h11v4H10v-4z"/></svg>
        </span>
        <span>Dashboard</span>
      </button>
      <button class="nav-item" data-route="parking">
        <span class="icon">
          <svg viewBox="0 0 24 24"><path d="M7 3h7a5 5 0 010 10H9v8H7V3zm2 2v6h5a3 3 0 000-6H9z"/></svg>
        </span>
        <span>Parking Map</span>
      </button>
      <button class="nav-item" data-route="payments">
        <span class="icon">
          <svg viewBox="0 0 24 24"><path d="M3 6a2 2 0 012-2h14a2 2 0 012 2v1H3V6zm0 4h20v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8zm3 5a1 1 0 100 2h6a1 1 0 100-2H6z"/></svg>
        </span>
        <span>Payments</span>
      </button>
      <button class="nav-item" data-route="notifications">
        <span class="icon badge-wrap">
          <svg viewBox="0 0 24 24"><path d="M12 22a2 2 0 002-2H10a2 2 0 002 2zm8-6V11a8 8 0 10-16 0v5l-2 2v1h20v-1l-2-2z"/></svg>
          <span class="badge" id="sidebarBadge">0</span>
        </span>
        <span>Notifications</span>
      </button>
    </nav>

    <div class="sidebar-bottom">
      <button class="logout-btn" id="logoutBtn">
        <svg viewBox="0 0 24 24"><path d="M10 17l1.41-1.41L8.83 13H21v-2H8.83l2.58-2.59L10 7l-5 5 5 5zM4 19h6v2H4a2 2 0 01-2-2V5a2 2 0 012-2h6v2H4v14z"/></svg>
        <span>Logout</span>
      </button>
    </div>
  </aside>

  <main class="main">
    <header class="topbar">
      <div class="welcome">
        <h1>Welcome, <span id="username">Student</span> ðŸ‘‹</h1>
      </div>
      <div class="top-actions">
        <div class="search">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M10 18a8 8 0 115.293-2.707L21 21l-1.414 1.414-5.707-5.707A7.963 7.963 0 0110 18zm0-2a6 6 0 100-12 6 6 0 000 12z"/></svg>
          <input id="searchInput" type="text" placeholder="Search plate number, slot, or notice..."/>
        </div>
        <button class="icon-btn" data-route="notifications" aria-label="Open notifications">
          <span class="badge" id="topbarBadge">0</span>
          <svg viewBox="0 0 24 24"><path d="M12 22a2 2 0 002-2H10a2 2 0 002 2zm8-6V11a8 8 0 10-16 0v5l-2 2v1h20v-1l-2-2z"/></svg>
        </button>
        <!-- Profile Button -->
        <button class="icon-btn profile-btn" data-route="profile" aria-label="Open profile">
          <img id="profile-avatar-small" class="avatar small" src="https://via.placeholder.com/40" alt="User Avatar Small">
        </button>

      </div>
    </header>

    <!-- DASHBOARD -->
    <section class="page page--active" id="page-dashboard" data-route="dashboard">
      <div class="cards">
        <div class="card stat">
          <div class="stat-head">
            <div class="stat-title">Total Slots</div>
            <div class="stat-icon">
              <svg viewBox="0 0 24 24"><path d="M3 3h18v4H3V3zm0 7h18v4H3v-4zm0 7h18v4H3v-4z"/></svg>
            </div>
          </div>
          <div class="stat-value" id="totalSlots">0</div>
          <div class="progress"><div id="totalProgress"></div></div>
          <div class="stat-sub">Capacity utilization <span id="capacityUtil">0%</span></div>
        </div>

        <div class="card stat">
          <div class="stat-head">
            <div class="stat-title">Available</div>
            <div class="dot dot--green"></div>
          </div>
          <div class="stat-value" id="availableSlots">0</div>
          <div class="progress green"><div id="availableProgress"></div></div>
          <div class="stat-sub"><span id="availablePct">0%</span> of total</div>
        </div>

        <div class="card stat">
          <div class="stat-head">
            <div class="stat-title">Occupied</div>
            <div class="dot dot--red"></div>
          </div>
          <div class="stat-value" id="occupiedSlots">0</div>
          <div class="progress red"><div id="occupiedProgress"></div></div>
          <div class="stat-sub"><span id="occupiedPct">0%</span> of total</div>
        </div>

        <div class="card stat">
          <div class="stat-head">
            <div class="stat-title">Reserved</div>
            <div class="dot dot--yellow"></div>
          </div>
          <div class="stat-value" id="reservedSlots">0</div>
          <div class="progress yellow"><div id="reservedProgress"></div></div>
          <div class="stat-sub"><span id="reservedPct">0%</span> of total</div>
        </div>
      </div>

      <div class="grid-2">
        <div class="card">
          <div class="card-head">
            <h3>Parking Map â€” Section A</h3>
            <div class="legend">
              <span><i class="dot dot--green"></i> Available</span>
              <span><i class="dot dot--yellow"></i> Reserved</span>
              <span><i class="dot dot--red"></i> Occupied</span>
            </div>
          </div>
          <div class="parking-grid" id="parkingGrid"></div>
        </div>

        <div class="card">
          <div class="card-head">
            <h3>Recent Activity</h3>
          </div>
          <div class="activity" id="activityList"></div>
        </div>
      </div>
    </section>

    <!-- PARKING -->
    <section class="page" id="page-parking" data-route="parking">
      <div class="card">
        <div class="card-head">
          <h3>Parking Map â€” All Sections</h3>
          <div class="legend">
            <span><i class="dot dot--green"></i> Available</span>
            <span><i class="dot dot--yellow"></i> Reserved</span>
            <span><i class="dot dot--red"></i> Occupied</span>
          </div>
        </div>
        <div class="parking-grid" id="parkingGridFull"></div>
      </div>
    </section>

    <!-- PAYMENTS -->
    <section class="page" id="page-payments" data-route="payments">
      <div class="bar">
        <h3>Payment History</h3>
        <div class="actions">
          <button class="btn primary" id="paySemesterBtn">Pay Semester Fee</button>
          <button class="btn" id="downloadReceiptsBtn">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3v10l4-4 1.41 1.41L12 16.83l-5.41-5.42L8 9l4 4V3h2zM5 19h14v2H5v-2z"/></svg>
            Download Receipts
          </button>
        </div>
      </div>

      <div id="paymentsContainer" class="payments"></div>
    </section>

    <!-- NOTIFICATIONS -->
    <section class="page" id="page-notifications" data-route="notifications">
      <div class="bar">
        <h3>Notifications</h3>
        <button class="btn" id="markAllReadBtn">Mark all as read</button>
      </div>
      <div id="notificationsList" class="notifications"></div>
    </section>

    <!-- PROFILE (placeholder) -->
    <section class="page" id="page-profile" data-route="profile">
    <div class="card">
        <div class="card-head"><h3>Profile</h3></div>
        <div class="profile">
        <!-- Avatar Upload -->
        <div class="avatar-container">
            <img id="profile-avatar" class="avatar xl" src="https://via.placeholder.com/100" alt="User Avatar">
            <input type="file" id="avatar-input" accept="image/*" hidden>
            <button id="change-avatar-btn">Change Photo</button>
        </div>

        <!-- Profile Info -->
        <div>
            <h4>University User</h4>
            <p>Email: user@university.edu</p>
            <p>Role: Student</p>
        </div>
        </div>
    </div>
    </section>

  </main>

  <script src="app.js"></script>
</body>
</html>
